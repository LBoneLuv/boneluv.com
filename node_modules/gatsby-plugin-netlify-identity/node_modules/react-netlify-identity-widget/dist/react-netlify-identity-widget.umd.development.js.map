{"version":3,"file":"react-netlify-identity-widget.umd.development.js","sources":["../src/useLoading.tsx","../src/components/login.tsx","../src/components/logout.tsx","../src/components/signup.tsx","../src/components/providers.tsx","../src/app.tsx","../src/errorBoundary.tsx","../src/index.tsx"],"sourcesContent":["import React from \"react\"\n\nexport default function useLoading() {\n  const [isLoading, setState] = React.useState(false)\n  const mount = React.useRef(false)\n  React.useEffect(() => {\n    mount.current = true\n    return () => void (mount.current = false)\n  }, [])\n  function load<A>(aPromise: Promise<A>) {\n    setState(true)\n    return aPromise.finally(() => mount.current && setState(false))\n  }\n  return [isLoading, load] as [boolean, <A>(aPromise: Promise<A>) => Promise<A>]\n}\n","import React from \"react\"\nimport { useIdentityContext } from \"react-netlify-identity\"\nimport useLoading from \"../useLoading\"\nimport VisuallyHidden from \"@reach/visually-hidden\"\n\nexport function Login() {\n  const { loginUser } = useIdentityContext()\n  const formRef = React.useRef<HTMLFormElement>(null)\n  const [msg, setMsg] = React.useState(\"\")\n  const [isLoading, load] = useLoading()\n  // const signup = () => {\n  //   if (!formRef.current) return\n  //   const email = formRef.current.email.value\n  //   const password = formRef.current.password.value\n  //   const data = { signupSource: \"react-netlify-identity-widget\" }\n  //   load(signupUser(email, password, data))\n  //     .then(user => {\n  //       console.log(\"Success! Signed up\", user)\n  //       // navigate(\"/dashboard\")\n  //     })\n  //     .catch(err => void console.error(err) || setMsg(\"Error: \" + err.message))\n  // }\n  return (\n    <form\n      ref={formRef}\n      className=\"form\"\n      onSubmit={(e: React.SyntheticEvent) => {\n        e.preventDefault()\n        const target = e.target as typeof e.target & { email: { value: string }; password: { value: string } }\n        const email = target.email.value\n        const password = target.password.value\n        load(loginUser(email, password, true))\n          .then((user) => {\n            console.log(\"Success! Logged in\", user)\n            // navigate(\"/dashboard\")\n          })\n          .catch((err) => void console.error(err) || setMsg(\"Error: \" + err.message))\n      }}\n    >\n      <div className=\"formGroup\" key=\"email\">\n        <label>\n          <VisuallyHidden>Enter your email</VisuallyHidden>\n          <input\n            className=\"formControl\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            autoCapitalize=\"off\"\n            required={true}\n          />\n          <div className=\"inputFieldIcon inputFieldEmail\" />\n        </label>\n      </div>\n      <div className=\"formGroup\" key=\"password\">\n        <label>\n          <VisuallyHidden>Enter your password</VisuallyHidden>\n          <input className=\"formControl\" type=\"password\" name=\"password\" placeholder=\"Password\" required={true} />\n          <div className=\"inputFieldIcon inputFieldPassword\" />\n        </label>\n      </div>\n\n      <div>\n        <button type=\"submit\" className={isLoading ? \"btn saving\" : \"btn\"}>\n          Log in\n        </button>\n        {msg && <pre style={{ background: \"salmon\", padding: 10 }}>{msg}</pre>}\n      </div>\n      <button type=\"button\" className=\"btnLink forgotPasswordLink\">\n        Forgot password?\n      </button>\n    </form>\n  )\n}\n","import React from \"react\"\nimport { useIdentityContext } from \"react-netlify-identity\"\nimport useLoading from \"../useLoading\"\n\nexport function Logout() {\n  const identity = useIdentityContext()\n  const name =\n    (identity && identity.user && identity.user.user_metadata && identity.user.user_metadata.full_name) || \"NoName\"\n\n  const [isLoading, load] = useLoading()\n  const logout = () => load(identity.logoutUser())\n  return (\n    <>\n      <div className=\"header\">\n        <button className=\"btn btnHeader active\">Logged in</button>\n      </div>\n      <form className=\"form \">\n        <p className=\"infoText\">\n          Logged in as <br />\n          <span className=\"infoTextEmail\">{name}</span>\n        </p>\n        <button type=\"submit\" className={isLoading ? \"btn saving\" : \"btn\"} onClick={logout}>\n          Log out\n        </button>\n      </form>\n    </>\n  )\n}\n","import React from \"react\"\nimport { useIdentityContext } from \"react-netlify-identity\"\nimport useLoading from \"../useLoading\"\nimport VisuallyHidden from \"@reach/visually-hidden\"\n\nexport function Signup() {\n  const { signupUser } = useIdentityContext()\n  const formRef = React.useRef<HTMLFormElement>(null)\n  const [msg, setMsg] = React.useState(\"\")\n  const [isLoading, load] = useLoading()\n  const signup = () => {\n    if (!formRef.current) return\n    const full_name = formRef.current.username.value\n    const email = formRef.current.email.value\n    const password = formRef.current.password.value\n    const data = { signupSource: \"react-netlify-identity-widget\", full_name }\n    load(signupUser(email, password, data))\n      .then((user) => {\n        console.log(\"Success! Signed up\", user)\n        // navigate(\"/dashboard\")\n      })\n      .catch((err) => void console.error(err) || setMsg(\"Error: \" + err.message))\n  }\n  return (\n    <form\n      ref={formRef}\n      className=\"form\"\n      onSubmit={(e: React.SyntheticEvent) => {\n        e.preventDefault()\n        signup()\n      }}\n    >\n      <div className=\"formGroup\" key=\"username\">\n        <label>\n          <VisuallyHidden>Enter your name</VisuallyHidden>\n          <input\n            id=\"username\"\n            className=\"formControl\"\n            type=\"name\"\n            name=\"username\"\n            placeholder=\"Name\"\n            autoCapitalize=\"off\"\n            required={true}\n          />\n          <div className=\"inputFieldIcon inputFieldName\" />\n        </label>\n      </div>\n      <div className=\"formGroup\" key=\"email\">\n        <label>\n          <VisuallyHidden>Enter your email</VisuallyHidden>\n          <input\n            className=\"formControl\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            autoCapitalize=\"off\"\n            required={true}\n          />\n          <div className=\"inputFieldIcon inputFieldEmail\" />\n        </label>\n      </div>\n      <div className=\"formGroup\" key=\"password\">\n        <label>\n          <VisuallyHidden>Enter your password</VisuallyHidden>\n          <input className=\"formControl\" type=\"password\" name=\"password\" placeholder=\"Password\" required={true} />\n          <div className=\"inputFieldIcon inputFieldPassword\" />\n        </label>\n      </div>\n      <div>\n        <button type=\"submit\" className={isLoading ? \"btn saving\" : \"btn\"}>\n          Sign Up\n        </button>\n        {msg && <pre style={{ background: \"salmon\", padding: 10 }}>{msg}</pre>}\n      </div>\n    </form>\n  )\n}\n","import React from \"react\"\nimport { Settings, useIdentityContext } from \"react-netlify-identity\"\n\nexport function Providers() {\n  const { settings } = useIdentityContext()\n  const hasProviders = Object.entries(settings.external).some(\n    ([k, v]) => [\"github\", \"gitlab\", \"bitbucket\", \"google\"].includes(k) && v\n  )\n  if (!hasProviders) return null\n  let isLocalhost = false\n  if (typeof window !== \"undefined\") {\n    isLocalhost = Boolean(\n      window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n    )\n  }\n  return (\n    <div className=\"providersGroup\">\n      {isLocalhost && (\n        <pre>⚠️Testing providers on localhost won't work because OAuth redirects to your production site</pre>\n      )}\n      <hr className=\"hr\" />\n      <ProviderButton settings={settings} provider=\"Google\" />\n      <ProviderButton settings={settings} provider=\"GitHub\" />\n      <ProviderButton settings={settings} provider=\"GitLab\" />\n      <ProviderButton settings={settings} provider=\"Bitbucket\" />\n    </div>\n  )\n}\n\ninterface Dict<T> {\n  [id: string]: T\n}\nfunction ProviderButton({ settings, provider }: { settings: Settings; provider: string }) {\n  const ext = settings.external as Dict<{}>\n  if (!ext[provider.toLowerCase()]) return null\n  const { loginProvider } = useIdentityContext()\n  const click = () => loginProvider(provider.toLowerCase() as \"github\" | \"gitlab\" | \"bitbucket\" | \"google\")\n  return (\n    <button onClick={click} className={`provider${provider} btn btnProvider`}>\n      Continue with {provider}\n    </button>\n  )\n}\n","import React from \"react\"\nimport { Login } from \"./components/login\"\nimport { Logout } from \"./components/logout\"\nimport { Signup } from \"./components/signup\"\nimport { useIdentityContext } from \"react-netlify-identity\"\nimport { Tabs, TabList, Tab, TabPanels, TabPanel } from \"@reach/tabs\"\n\nimport { Providers } from \"./components/providers\"\nfunction LoggedOutScreen() {\n  return (\n    <div>\n      <Tabs defaultIndex={0}>\n        <TabList className=\"header\">\n          <Tab className=\"btn btnHeader\">Login</Tab>\n          <Tab className=\"btn btnHeader\">Sign Up</Tab>\n        </TabList>\n\n        <TabPanels>\n          <TabPanel>\n            <Login />\n          </TabPanel>\n          <TabPanel>\n            <Signup />\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n      <Providers />\n    </div>\n  )\n}\n\nfunction LoggedInScreen() {\n  return <Logout />\n}\n\nfunction Gate({  }: { onCloseDialog: Function }) {\n  const identity = useIdentityContext()\n  const isLoggedIn = Boolean(identity && identity.user)\n  return isLoggedIn ? <LoggedInScreen /> : <LoggedOutScreen />\n}\n\nexport function Widget({ onCloseDialog }: { onCloseDialog: Function }) {\n  return <Gate onCloseDialog={onCloseDialog} />\n}\n","import React from \"react\"\n\nexport class ErrorBoundary extends React.Component<{}, { hasError: boolean }> {\n  constructor(props: {}) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError() {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went loading the widget.</h1>\n    }\n    return this.props.children\n  }\n}\n","import React from \"react\"\nimport {\n  Dialog\n  // DialogOverlay, DialogContent\n} from \"@reach/dialog\"\nimport VisuallyHidden from \"@reach/visually-hidden\"\n\nimport { Widget } from \"./app\"\n\nimport { ErrorBoundary } from \"./errorBoundary\"\n\nimport {\n  IdentityContextProvider as _IdentityContextProvider,\n  useIdentityContext as _useIdentityContext\n} from \"react-netlify-identity\"\nexport { User, Settings, ReactNetlifyIdentityAPI, useNetlifyIdentity } from \"react-netlify-identity\"\n\n/** URL of your Netlify Instance with Identity enabled e.g. https://netlify-gotrue-in-react.netlify.com */\n\ntype ModalProps = {\n  /** pass a boolean to be true or false */\n  showDialog: boolean\n  /** modal will call this function to set the state of showDialog to false */\n  onCloseDialog: () => void\n}\n\nexport const IdentityContextProvider = _IdentityContextProvider\nexport const useIdentityContext = _useIdentityContext\nexport function IdentityModal({ showDialog, onCloseDialog }: ModalProps) {\n  return (\n    <Dialog\n      isOpen={showDialog}\n      onDismiss={onCloseDialog}\n      style={{\n        border: \"solid 5px hsla(0, 0%, 0%, 0.5)\",\n        borderRadius: \"10px\",\n        position: \"relative\",\n        maxWidth: 400\n      }}\n    >\n      <button className=\"btn btnClose\" onClick={onCloseDialog}>\n        <VisuallyHidden>Close</VisuallyHidden>\n      </button>\n      <ErrorBoundary>\n        <React.Suspense fallback={<div>Loading...</div>}>\n          <Widget onCloseDialog={onCloseDialog} />\n        </React.Suspense>\n      </ErrorBoundary>\n    </Dialog>\n  )\n}\nexport default IdentityModal\n"],"names":["useLoading","isLoading","setState","React","useState","mount","useRef","useEffect","current","load","aPromise","finally","Login","loginUser","useIdentityContext","formRef","msg","setMsg","ref","className","onSubmit","e","preventDefault","target","email","value","password","then","user","console","log","catch","err","error","message","key","VisuallyHidden","type","name","placeholder","autoCapitalize","required","style","background","padding","Logout","identity","user_metadata","full_name","logout","logoutUser","onClick","Signup","signupUser","signup","username","data","signupSource","id","Providers","settings","hasProviders","Object","entries","external","some","k","v","includes","isLocalhost","window","Boolean","location","hostname","match","ProviderButton","provider","ext","toLowerCase","loginProvider","click","LoggedOutScreen","Tabs","defaultIndex","TabList","Tab","TabPanels","TabPanel","LoggedInScreen","Gate","isLoggedIn","Widget","onCloseDialog","ErrorBoundary","Component","constructor","props","state","hasError","getDerivedStateFromError","render","children","IdentityContextProvider","_IdentityContextProvider","_useIdentityContext","IdentityModal","showDialog","Dialog","isOpen","onDismiss","border","borderRadius","position","maxWidth","Suspense","fallback"],"mappings":"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"}